# 本篇介绍机器人的基础与操作  

## 概述
既然要做移动机器人,那么肯定不能跟着机器人到处跑,所以我们建议并提供了支持在机器人上运行的工控机,工控机主要功能就是与底层进行通信,还有运行ROS的大部分程序,比如建图,导航等等.当然也可以不使用我们提供的工控机,但是需要一台笔记本放在机器人上运行ROS,这时笔记本充当了工控机的角色,但是还得跟着到处跑.   
我们建议,使用工控机与底层通讯并运行大部分ROS程序,通过局域网在自己笔记本上与工控机通讯并运行一部分ROS程序,这样既可以在笔记本上对机器人进行遥控还可以接收机器人上的信息.   
下面我们将分三步,实现机器人上工控机与电脑的通讯.

## 1,工控机环境配置

如果购买了我们的工控机,那么系统环境都已经配置完成.请略过这一步.   
如果使用自己的工控机或者使用笔记本电脑替代我们提供的工控机,我们提供了两种方案配置工控机

* 1,安装我们提供的[镜像](ZZzadlj)
* 2,安装ubuntu 14.04和[ros-indigo](http://wiki.ros.org/indigo/Installation/Ubuntu),然后按照[教程](https://github.com/HANDS-FREE/HANDS-FREE.github.io/wiki/7.-HandsFree-ROS)配置HandsFree运行需要的环境

注意:安装镜像时,用户名必须是:HandsFree,电脑的名字必须是:PC

## 2,笔记本环境配置
笔记本如果安装的不是Ubuntu 14.04,可以使用虚拟机,然后在虚拟机中安装我们提供的镜像.   
建议在笔记本上直接安装Ubuntu 14.04,然后安装[ros-indigo](http://wiki.ros.org/indigo/Installation/Ubuntu),最后按照[教程](https://github.com/HANDS-FREE/HANDS-FREE.github.io/wiki/7.-HandsFree-ROS)配置HandsFree运行需要的环境.   

## 3,工控机与笔记本通信


* **工控机**,

接下来的章节讲解HANDS-FREE ROS端代码的使用。前提是你已经掌握[ROS工作空间的建立、节点的编译](http://wiki.ros.org/ROS/Tutorials/InstallingandConfiguringROSEnvironment)等基本操作，并且HANDS-FREE ROS所需的依赖包已经安装完成（参考[3.5 ROS环境](https://github.com/HANDS-FREE/HANDS-FREE.github.io/wiki/3.5-ROS%E7%8E%AF%E5%A2%83) 章节）。
# HandsFree_ROS 源码的获取 #
我的ROS工作空间目录为`~/catkin_ws`,打开工作空间的`src/`目录，使用`git clone`
将HandsFree_ROS源码下载下来：  
>cd ~/catkin_ws/src/  
>git clone https://github.com/HANDS-FREE/handsfree.git  
>rospack profile

也可以直接在[HANDS-FREE](https://github.com/HANDS-FREE/handsfree)的github网站下载ZIP源码文件，然后解压到`~/catkin_ws/src/`目录。  

# 修改配置文件的路径 #
将`handsfree/handsfree_hw/src`目录中的`main.cpp`文件第七行的路径`/home/kedou/ros_workspace/HANDS_FREE_WS/src/handsfree_hw/config.txt`改为自己的路径。

# HandsFree_ROS 源码的编译 #
待源码下载好之后，接下来进行源码的编译：  
>cd ~/catkin_ws  
>catkin_make  

#### 注意：
*ROS Kinetic版本一定要在CmakeLists.txt里面加include_directories(${catkin_INCLUDE_DIRS})，否则报错ros/ros.h找不到。*

当编译过程正常到达100%，没有出现任何错误时，HandsFree_ROS代码编译成功。 
编译成功：  
![picture](https://github.com/doctorsrn/git_test/blob/master/HandsFree_ROS/7/7.0/0_compileHF.png?raw=true)  
同时要：
>source ~/catkin_ws/devel/setup.bash  

否则会出现编译成功的包无法使用的情况，也可以将上面的命令放到`~/.bashrc`文件中，参考[ROS Wiki](http://wiki.ros.org/ROS/Tutorials/BuildingPackages)。   
接下来就可以开始使用该包了。后面的章节将讲解以下功能的实现：  


# ROS安装 #  
ROS的安装请参考[ROS官网](http://www.ros.org/)的相关教程：  
[Ubuntu14.04 + ROS Indigo](http://wiki.ros.org/indigo/Installation/Ubuntu)  
[Ubuntu16.04 + ROS Kinetic](http://wiki.ros.org/kinetic/Installation/Ubuntu)  
当ROS安装好后，安装ROS的教程包：
>sudo apt-get install ros-`<distro>`-ros-tutorials

< distro>指ROS的版本（indigo，kinetic，etc），可以[成功运行乌龟节点和键盘控制乌龟节点](http://wiki.ros.org/ROS/Tutorials/UnderstandingNodes)后再进行下一步。  
遥控乌龟：  
![picture](https://github.com/doctorsrn/git_test/blob/master/HandsFree_ROS/3/3.5/5_turtlesim.png?raw=true)

